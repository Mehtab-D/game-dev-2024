<body id="myBody" style="background-repeat: repeat; background-size: 80%; background-image: url('https://i.pinimg.com/736x/0a/d7/6b/0ad76b1facb2323fbc5cffe58f604b32.jpg');">

<h1 align="center"><font color="#f7b763" style="font-size: 56px;">Final Project Level 1</font></h1>

<script>
// Global variables
let carrotsCollected = 0;  // Track how many carrots are collected
let totalCarrots = 8;  // Total number of carrots
let myGlobalX = 0;
let myClock;

// Collision detection function
function myHitOther(my1, my2) {
   let left1   = parseInt(document.getElementById(my1).style.left);
   let right1  = left1 + parseInt(document.getElementById(my1).style.width);
   let top1    = parseInt(document.getElementById(my1).style.top);   
   let bottom1 = top1 + parseInt(document.getElementById(my1).style.height);
   let left2   = parseInt(document.getElementById(my2).style.left);
   let right2  = left2 + parseInt(document.getElementById(my2).style.width);
   let top2    = parseInt(document.getElementById(my2).style.top);   
   let bottom2 = top2 + parseInt(document.getElementById(my2).style.height);

   if ((right1 >= left2) && (bottom1 >= top2) && (left1 <= right2) && (top1 <= bottom2)) {
       return true;
   }
   return false;
}

// Function to check if the rabbit has hit any carrots
function myCheckHit() {
   // Check for collisions with each carrot
   for (let i = 1; i <= totalCarrots; i++) {
       let carrot = document.getElementById('myImg0' + i);
       if (myHitOther('myImg01', 'myImg0' + i) && carrot.style.display !== 'none') {
           carrot.style.display = 'none';  // Hide carrot
           carrotsCollected++;  // Increment the carrots collected
       }
   }

   // Check if all carrots are collected
   if (carrotsCollected === totalCarrots) {
       setTimeout(function() {
           alert('You collected all the carrots! Proceeding to the next level...');
           // Move to the next level (for now, let's reload the page)
           location.reload();  // Or navigate to a new level page
       }, 100);  // Delay to make sure all carrots are hidden before showing the message
}

// Function to move the rabbit
function moveCharacter(direction) {
    let img = document.getElementById('myImg01');
    let left = parseInt(img.style.left);
    let top = parseInt(img.style.top);

    if (direction === 'left') {
        img.style.left = (left - 10) + 'px';
    } else if (direction === 'right') {
        img.style.left = (left + 10) + 'px';
    } else if (direction === 'up') {
        img.style.top = (top - 10) + 'px';
    } else if (direction === 'down') {
        img.style.top = (top + 10) + 'px';
    }

    myCheckHit();  // Check if rabbit hits any carrots
}

// Event listener for keyboard arrow keys
document.addEventListener('keydown', function(event) {
    switch(event.key) {
        case 'ArrowLeft':
            moveCharacter('left');
            break;
        case 'ArrowRight':
            moveCharacter('right');
            break;
        case 'ArrowUp':
            moveCharacter('up');
            break;
        case 'ArrowDown':
            moveCharacter('down');
            break;
    }
});
</script>

<input type="button" value="Auto Background Left" onclick="{
  clearInterval(myClock)
  let myTemp = '100px 0px'
  myClock = setInterval(function(){
      myGlobalX -= 5
      myTemp =  myGlobalX + 'px 0px'
      document.getElementById('myBody').style.backgroundPosition = myTemp
  }, 100)
}">

<input type="button" value="Right" onTouchStart="{this.click(); event.preventDefault();}" onclick="{
  document.getElementById('myImg01').style.left = parseInt(document.getElementById('myImg01').style.left) + 10 + 'px'
  myCheckHit()     
}">

<input type="button" value="Down" onTouchStart="{this.click(); event.preventDefault();}" onclick="{
  document.getElementById('myImg01').style.top = parseInt(document.getElementById('myImg01').style.top) + 10 + 'px'
  myCheckHit()     
}"><br><br>

<!-- Rabbit Image -->
<img id="myImg01" src="https://raw.githubusercontent.com/Mehtab-D/game-dev-2024/refs/heads/main/New%20Piskel%20(5).gif" style="position:absolute; width:200px; height:200px; left: 50px; top:190px;">

<!-- 8 Carrots placed randomly -->
<img id="myImg01" src="https://raw.githubusercontent.com/Mehtab-D/game-dev-2024/refs/heads/main/New%20Piskel%20(7).gif" style="position:absolute; width:50px; height:50px; left:350px; top:90px;">
<img id="myImg02" src="https://raw.githubusercontent.com/Mehtab-D/game-dev-2024/refs/heads/main/New%20Piskel%20(7).gif" style="position:absolute; width:50px; height:50px; left:500px; top:200px;">
<img id="myImg03" src="https://raw.githubusercontent.com/Mehtab-D/game-dev-2024/refs/heads/main/New%20Piskel%20(7).gif" style="position:absolute; width:50px; height:50px; left:200px; top:300px;">
<img id="myImg04" src="https://raw.githubusercontent.com/Mehtab-D/game-dev-2024/refs/heads/main/New%20Piskel%20(7).gif" style="position:absolute; width:50px; height:50px; left:700px; top:100px;">
<img id="myImg05" src="https://raw.githubusercontent.com/Mehtab-D/game-dev-2024/refs/heads/main/New%20Piskel%20(7).gif" style="position:absolute; width:50px; height:50px; left:100px; top:400px;">
<img id="myImg06" src="https://raw.githubusercontent.com/Mehtab-D/game-dev-2024/refs/heads/main/New%20Piskel%20(7).gif" style="position:absolute; width:50px; height:50px; left:800px; top:250px;">
<img id="myImg07" src="https://raw.githubusercontent.com/Mehtab-D/game-dev-2024/refs/heads/main/New%20Piskel%20(7).gif" style="position:absolute; width:50px; height:50px; left:900px; top:400px;">
<img id="myImg08" src="https://raw.githubusercontent.com/Mehtab-D/game-dev-2024/refs/heads/main/New%20Piskel%20(7).gif" style="position:absolute; width:50px; height:50px; left:150px; top:150px;">
</body>

